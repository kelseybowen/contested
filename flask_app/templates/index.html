<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/style.css">
    <title>Contested</title>
</head>

<body id="index-body">
    <div class="index-page container mx-auto">
        <div class="text-center mt-5">
            <img src="../static/images/Contested-Logo.png" alt="logo" width="800px" class="img-fluid">
        </div>
        <div class="index-main mx-auto">
            <div>
                <a href="/dashboard" class="btn">Browse as Guest</a>
            </div>
            <div>
                <button class="btn" onclick="{() => gotoLogin()}">Login</button>
            </div>
            <div id="login-reg d-flex">
                <div class="index-container registration mx-3 p-3">
                    <form action="/register" method="post" class="reg-form">
                        <h1>Register</h1>
                        {% with messages = get_flashed_messages(category_filter=["registration"]) %}
                        {% if messages %}
                        {% for message in messages %}
                        <p class="error">{{message}}</p>
                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                        <div class="form-inputs">
                            <label for="first_name">First Name</label>
                            <br>
                            <input type="text" name="first_name" required value="{{session['first_name']}}">
                        </div>
                        <div class="form-inputs">
                            <label for="last_name">Last Name</label>
                            <br>
                            <input type="text" name="last_name" required value="{{session['last_name']}}">
                        </div>
                        <div class="form-inputs">
                            <label for="r_email">Email</label>
                            <br>
                            <input type="text" name="r_email" required value="{{session['email']}}">
                        </div>
                        <div class="form-inputs">
                            <label for="r_password">Password</label>
                            <br>
                            <input type="password" name="r_password" required>
                        </div>
                        <div class="form-inputs">
                            <label for="confirm_password">Confirm Password</label>
                            <br>
                            <input type="password" name="confirm_password" required>
                        </div>
                        <button class="btn reg-btn">Register</button>
                    </form>
                </div>
                <div class="index-container login mx-2 p-3">
                    <form action="/login" method="post" class="login-form">
                        <h1>Login</h1>
                        {% with messages = get_flashed_messages(category_filter=["login"]) %}
                        {% if messages %}
                        {% for message in messages %}
                        <p class="error">{{message}}</p>
                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                        <div class="form-inputs">
                            <label for="l_email">Email</label>
                            <br>
                            <input type="text" name="l_email" required>
                        </div>
                        <div class="form-inputs">
                            <label for="l_password">Password</label>
                            <br>
                            <input type="password" name="l_password" required>
                        </div>
                        <div>
                            <button class="btn login-btn">Login</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>

<!-- <script>
    const goToLogin = () => {
        console.log("inside function");
        const loginRegDiv = document.getElementById('login-reg');
        console.log(loginRegDiv.style.display);
        if (!loginRegDiv.style.display == 'none') {
            loginRegDiv.style.display = 'none';
            divVisible = false;
            return
        } 
        loginRegDiv.style.display = 'block';
        divVisible = true;
        return
    }
</script> -->

</html>